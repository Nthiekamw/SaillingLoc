@page
@model SaillingLoc.Pages.AdminDashboardModel
@{
    ViewData["Title"] = "Tableau de bord administrateur";
}

<style>
    body {
        background-color: #f5f5f5;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    .dashboard-wrapper {
        background-color: white;
        border-radius: 8px;
        margin: 20px auto;
        max-width: 1400px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .dashboard-header {
        padding: 24px 30px;
        border-bottom: 1px solid #e0e0e0;
    }

    .dashboard-header h4 {
        font-size: 24px;
        font-weight: 600;
        color: #202124;
        margin: 0 0 8px 0;
    }

    .dashboard-header p {
        font-size: 14px;
        color: #5f6368;
        margin: 0;
    }

    /* Stats Cards Section */
    .stats-section {
        padding: 30px;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        border-bottom: 1px solid #e0e0e0;
    }

    .stat-card {
        background-color: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 24px;
        display: flex;
        align-items: center;
        gap: 16px;
        transition: box-shadow 0.2s;
        cursor: pointer;
    }

    .stat-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .stat-icon {
        width: 48px;
        height: 48px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        flex-shrink: 0;
    }

    .stat-icon.boats {
        background-color: #e3f2fd;
    }

    .stat-icon.reservations {
        background-color: #fff3e0;
    }

    .stat-icon.contracts {
        background-color: #fce4ec;
    }

    .stat-icon.revenue {
        background-color: #f3e5f5;
    }

    .stat-content {
        flex: 1;
    }

    .stat-label {
        font-size: 13px;
        color: #5f6368;
        margin-bottom: 4px;
    }

    .stat-number {
        font-size: 28px;
        font-weight: 600;
        color: #202124;
    }

    /* Quick Actions Section */
    .actions-section {
        padding: 30px;
        border-bottom: 1px solid #e0e0e0;
    }

    .section-title {
        font-size: 16px;
        font-weight: 600;
        color: #202124;
        margin-bottom: 20px;
    }

    .action-cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
    }

    .action-card {
        background-color: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 12px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .action-card:hover {
        border-color: #AD7C59;
        box-shadow: 0 2px 8px rgba(173, 124, 89, 0.2);
    }

    .action-icon {
        width: 40px;
        height: 40px;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        background-color: #fff3e0;
        flex-shrink: 0;
    }

    .action-content {
        flex: 1;
    }

    .action-title {
        font-size: 14px;
        font-weight: 600;
        color: #202124;
        margin-bottom: 2px;
    }

    .action-subtitle {
        font-size: 12px;
        color: #5f6368;
    }

    /* Reservations Section */
    .reservations-section {
        padding: 30px;
        border-bottom: 1px solid #e0e0e0;
    }

    .reservations-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }

    .reservation-status-card {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .reservation-status-card.confirmed {
        background-color: #e8f5e9;
    }

    .reservation-status-card.pending {
        background-color: #fff8e1;
    }

    .status-left {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .status-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .status-indicator.green {
        background-color: #34a853;
    }

    .status-indicator.yellow {
        background-color: #fbbc04;
    }

    .status-text {
        font-size: 14px;
        color: #202124;
        font-weight: 500;
    }

    .status-count {
        font-size: 24px;
        font-weight: 600;
        color: #202124;
    }

    /* Financial Stats Section */
    .financial-section {
        padding: 30px;
        border-bottom: 1px solid #e0e0e0;
    }

    .financial-cards {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }

    .financial-card {
        background-color: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .financial-left {
        flex: 1;
    }

    .financial-label {
        font-size: 14px;
        color: #5f6368;
        margin-bottom: 8px;
    }

    .financial-amount {
        font-size: 24px;
        font-weight: 600;
        color: #202124;
    }

    .financial-icon {
        width: 48px;
        height: 48px;
        border-radius: 8px;
        background-color: #fff3e0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
    }

    /* Bottom Stats Section */
    .bottom-stats-section {
        padding: 30px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
    }

    .bottom-stat-card {
        background-color: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 24px;
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .bottom-stat-icon {
        width: 56px;
        height: 56px;
        border-radius: 8px;
        background-color: #f8f9fa;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        flex-shrink: 0;
    }

    .bottom-stat-content {
        flex: 1;
    }

    .bottom-stat-number {
        font-size: 32px;
        font-weight: 600;
        color: #202124;
        margin-bottom: 4px;
    }

    .bottom-stat-label {
        font-size: 14px;
        color: #5f6368;
    }

    .bottom-stat-sublabel {
        font-size: 12px;
        color: #80868b;
    }

   
</style>

<div class="dashboard-wrapper">
    <!-- Header -->
    <div class="dashboard-header">
        <h4>Tableau de bord administrateur</h4>
        <p>Vue d'ensemble de l'activité de la plateforme SaillingLoc</p>
    </div>

    <!-- Top Statistics Cards -->
    <div class="stats-section">
        <div class="stat-card" onclick="location.href='@Url.Page("/Admin/Boats")'">
            <div class="stat-icon boats">🚤</div>
            <div class="stat-content">
                <div class="stat-label">Bateaux actifs</div>
                <div class="stat-number">@Model.BoatCount</div>
            </div>
        </div>

        <div class="stat-card" onclick="location.href='@Url.Page("/Admin/Reservations")'">
            <div class="stat-icon reservations">📅</div>
            <div class="stat-content">
                <div class="stat-label">Réservations totales</div>
                <div class="stat-number">@Model.ReservationCount</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon contracts">📄</div>
            <div class="stat-content">
                <div class="stat-label">Contrats actifs</div>
                <div class="stat-number">@Model.ContractCount</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon revenue">💰</div>
            <div class="stat-content">
                <div class="stat-label">Revenus totaux</div>
                <div class="stat-number">@Model.TotalRevenue.ToString("N0") €</div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="actions-section">
        <div class="section-title">Actions rapides</div>
        <div class="action-cards">
            <div class="action-card" onclick="location.href='@Url.Page("/Admin/Users")'">
                <div class="action-icon">👥</div>
                <div class="action-content">
                    <div class="action-title">Utilisateurs</div>
                    <div class="action-subtitle">Gérer les utilisateurs</div>
                </div>
            </div>

            <div class="action-card" onclick="location.href='@Url.Page("/Admin/Boats")'">
                <div class="action-icon">⛵</div>
                <div class="action-content">
                    <div class="action-title">Bateaux</div>
                    <div class="action-subtitle">Gérer les bateaux</div>
                </div>
            </div>

            <div class="action-card" onclick="location.href='@Url.Page("/Admin/Messages")'">
                <div class="action-icon">💬</div>
                <div class="action-content">
                    <div class="action-title">Messages</div>
                    <div class="action-subtitle">Gérer les messages</div>
                </div>
            </div>

            <div class="action-card" onclick="location.href='@Url.Page("/Admin/Reservations")'">
                <div class="action-icon">📋</div>
                <div class="action-content">
                    <div class="action-title">Réservations</div>
                    <div class="action-subtitle">Gérer les réservations</div>
                </div>
            </div>

            <div class="action-card" onclick="location.href='@Url.Page("/Admin/Contracts")'">
                <div class="action-icon">📑</div>
                <div class="action-content">
                    <div class="action-title">Contrats</div>
                    <div class="action-subtitle">Gérer les contrats</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reservations by Status -->
    <div class="reservations-section">
        <div class="section-title">Réservations par statut</div>
        <div class="reservations-grid">
            <div class="reservation-status-card confirmed">
                <div class="status-left">
                    <span class="status-indicator green"></span>
                    <span class="status-text">Confirmées</span>
                </div>
                <div class="status-count">@Model.ConfirmedReservationCount</div>
            </div>

            <div class="reservation-status-card pending">
                <div class="status-left">
                    <span class="status-indicator yellow"></span>
                    <span class="status-text">En attente</span>
                </div>
                <div class="status-count">@Model.PendingReservationCount</div>
            </div>
        </div>
    </div>

    <!-- Financial Statistics -->
    <div class="financial-section">
        <div class="section-title">Statistiques financières</div>
        <div class="financial-cards">
            <div class="financial-card">
                <div class="financial-left">
                    <div class="financial-label">Revenus totaux</div>
                    <div class="financial-amount">@Model.TotalRevenue.ToString("N0") €</div>
                </div>
                <div class="financial-icon">💵</div>
            </div>

            <div class="financial-card">
                <div class="financial-left">
                    <div class="financial-label">Paiements en attente</div>
                    <div class="financial-amount">@Model.PendingPaymentCount paiements</div>
                </div>
                <div class="financial-icon">⏳</div>
            </div>
        </div>
    </div>

    <!-- Bottom Statistics -->
    <div class="bottom-stats-section">
        <div class="bottom-stat-card">
            <div class="bottom-stat-icon">👤</div>
            <div class="bottom-stat-content">
                <div class="bottom-stat-number">@Model.UserCount</div>
                <div class="bottom-stat-label">Utilisateurs actifs</div>
            </div>
        </div>

        <div class="bottom-stat-card">
            <div class="bottom-stat-icon">⛵</div>
            <div class="bottom-stat-content">
                <div class="bottom-stat-number">@Model.BoatsInRentCount</div>
                <div class="bottom-stat-label">Bateaux en location</div>
                <div class="bottom-stat-sublabel">Actuellement loués</div>
            </div>
        </div>

        <div class="bottom-stat-card">
            <div class="bottom-stat-icon">⏱️</div>
            <div class="bottom-stat-content">
                <div class="bottom-stat-number">@Model.PendingPaymentCount</div>
                <div class="bottom-stat-label">Paiements en attente</div>
                <div class="bottom-stat-sublabel">En attente de validation</div>
            </div>
        </div>
    </div>
</div>