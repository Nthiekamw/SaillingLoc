@page
@model SaillingLoc.Pages.IndexModel
@{
    ViewData["Title"] = "Accueil";
}

<style>
    @* body {
        font-family: 'Helvetica Neue', Arial, sans-serif;
        margin: 0;
        padding: 0;
        color: #333;
    }

    .hero {
        background: url('@Url.Content("~/images/hero-background.jpg")') no-repeat center center/cover;
        color: white;
        text-align: center;
        padding: 100px 20px;
    }

    .hero h1 {
        font-size: 3.5em;
        margin-bottom: 15px;
        font-weight: bold;
    }

    .hero p {
        font-size: 1.5em;
        margin-bottom: 20px;
    }

    .search-bar {
        margin-top: 20px;
    }

    .search-bar input,
    .search-bar button {
        padding: 12px;
        margin: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }

    .section-title {
        text-align: center;
        font-size: 2.5em;
        margin: 40px 0 20px;
        font-weight: bold;
    }

    .boat-types {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        padding: 20px 0;
    }

    .boat-types a {
        flex: 1 1 150px;
        margin: 10px;
    }

    .boat-types img {
        width: 100%;
        max-width: 150px;
        height: auto;
        border-radius: 6px;
    }

    .offers {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        padding: 20px 10px;
    }

    .offer-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        width: 280px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
        display: flex;
        flex-direction: column;
        align-items: center;
        background: #fff;
    }

    .offer-card:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .offer-card img {
        max-width: 100%;
        height: 160px;
        object-fit: cover;
        border-radius: 6px;
        margin-bottom: 10px;
    }

    .offer-card .content {
        flex-grow: 1;
    }

    .btn {
        margin: 5px 3px;
        padding: 8px 16px;
        border-radius: 5px;
        font-weight: 600;
        text-decoration: none;
        cursor: pointer;
        border: none;
        display: inline-block;
    }

    .btn-view {
        background-color: #007bff;
        color: white;
    }

    .btn-view:hover {
        background-color: #0056b3;
    }

    .btn-edit {
        background-color: #28a745;
        color: white;
    }

    .btn-edit:hover {
        background-color: #1e7e34;
    }

    .btn-delete {
        background-color: #dc3545;
        color: white;
    }

    .btn-delete:hover {
        background-color: #a71d2a;
    }

    /* Les autres styles (features, testimonials, rent) restent inchangés */

    .features {
        display: flex;
        justify-content: space-around;
        margin: 40px 0;
        padding: 20px 0;
        background-color: #f9f9f9;
    }

    .testimonials {
        background-color: #e0f7fa;
        padding: 30px;
        text-align: center;
    }

    .rent {
        background-color: #c8e6c9;
        padding: 30px;
        text-align: center;
    }

    button {
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 1em;
    }

    button:hover {
        background-color: #0056b3;
    }

    .author {
        font-style: italic;
        margin-top: 10px;
    }
    .icon-circle {
    width: 90px;
    height: 90px;
    margin: 0 auto;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: background-color 0.3s ease;
}

.anchor-icon {
    background-color: #007bff; /* bleu */
    color: white;
}

.calendar-icon {
    background-color: #28a745; /* vert */
    color: white;
}

.ship-icon {
    background-color: #ffc107; /* jaune/or */
    color: white;
}

/* Optionnel : hover effect */
.icon-circle:hover {
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    cursor: default;
} *@
body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    margin: 0;
    padding: 0;
    color: #333;
}

.hero {
    background: url('@Url.Content("~/images/hero-background.jpg")') no-repeat center center/cover;
    color: white;
    text-align: center;
    padding: 100px 20px;
    box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5); /* Adding depth */
}

.hero h1 {
    font-size: 3em; /* Adjusted for consistency */
    margin-bottom: 15px;
    font-weight: bold;
}

.hero p {
    font-size: 1.25em; /* Smaller for a more refined look */
    margin-bottom: 20px;
}

.search-bar {
    margin-top: 20px;
}

.search-bar input,
.search-bar button {
    padding: 12px;
    margin: 5px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 1em; /* Consistent font size */
}

.section-title {
    text-align: center;
    font-size: 2.5em;
    margin: 40px 0 20px;
    font-weight: bold;
}

.boat-types {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    padding: 20px 0;
}

.boat-types a {
    flex: 1 1 150px;
    margin: 10px;
}

.boat-types img {
    width: 100%;
    max-width: 150px;
    height: auto;
    border-radius: 6px;
}

.offers {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px 10px;
}

.offer-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    width: 280px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: #fff;
}

.offer-card:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
}

.offer-card img {
    max-width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 6px;
    margin-bottom: 10px;
}

.btn {
    margin: 5px 3px;
    padding: 8px 16px;
    border-radius: 5px;
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    border: none;
    display: inline-block;
}

.btn-view {
    background-color: #007bff; /* Primary color */
    color: white;
}

.btn-view:hover {
    background-color: #0056b3;
}

/* Adjust other button styles similarly */

@* .features,
.testimonials,
.rent {
    padding: 30px;
    text-align: center;
} *@

.features {
    background-color: #87CEEB; /* Couleur de fond */
    padding: 40px 20px;       /* Rembourrage pour l'espacement interne */
    border-radius: 8px;       /* Coins arrondis (optionnel) */
}
    


.testimonials {
    background-color: #e0f7fa;
}

.rent {
    background-color: #c8e6c9;
}

.icon-circle {
    width: 90px;
    height: 90px;
    margin: 0 auto;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: background-color 0.3s ease;
}

.icon-circle:hover {
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    cursor: default;
}
.testimonials {
    background-color: #f8f9fa; /* Fond clair */
    padding: 40px 20px;
    text-align: center;
}

.testimonial {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s;
}

.testimonial:hover {
    transform: scale(1.05);
}

.author {
    font-style: italic;
    margin-top: 10px;
    color: #6c757d; /* Gris pour l'auteur */
}

.testimonial p {
    font-size: 1.2em; /* Texte légèrement plus grand */
    color: #333; /* Couleur de texte foncé */
    margin: 0;
}

.testimonial-container {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.boat-types {
    display: flex;
    justify-content: space-around; /* Espacement égal entre les éléments */
    flex-wrap: wrap; /* Permet aux éléments de passer à la ligne */
    padding: 40px 20px; /* Espacement interne */
}

.boat-types a {
    text-decoration: none; /* Supprime le soulignement des liens */
}

.boat-types img {
    width: 100%; /* Prend toute la largeur de l'élément parent */
    max-width: 150px; /* Largeur maximale pour les images */
    border-radius: 8px; /* Coins arrondis */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Ombre pour profondeur */
    transition: transform 0.2s; /* Transition pour l'effet au survol */
}

.boat-types img:hover {
    transform: scale(1.05); /* Effet de zoom au survol */
}

.section-title {
    text-align: center; /* Centre le titre */
    font-size: 2.5em; /* Taille de police du titre */
    margin: 20px 0; /* Marges autour du titre */
    color: #333; /* Couleur du texte */
}


.row {
    display: flex;
    justify-content: space-around; /* Espacement égal entre les colonnes */
    flex-wrap: wrap; /* Permet aux colonnes de passer à la ligne */
}

.col-md-4 {
    flex: 1 1 30%; /* Colonne adaptable */
    max-width: 300px; /* Largeur maximale */
    margin: 20px; /* Marges autour des colonnes */
    text-align: center; /* Centre le texte */
    background-color: #ffffff; /* Fond blanc pour les colonnes */
    border-radius: 8px; /* Coins arrondis */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Ombre pour profondeur */
    padding: 20px; /* Espacement interne */
}

.icon-circle {
    width: 80px; /* Taille des icônes */
    height: 80px; /* Taille des icônes */
    margin: 0 auto; /* Centre l'icône */
    border-radius: 50%; /* Forme circulaire */
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #007bff; /* Couleur de fond des icônes */
    color: white; /* Couleur des icônes */
    margin-bottom: 15px; /* Espacement en bas */
}

h4 {
    font-size: 1.5em; /* Taille de police des titres */
    margin: 10px 0; /* Marges autour des titres */
}

p {
    color: #333; /* Couleur du texte */
    font-size: 1em; /* Taille de police */
}


.rent {
    background-color: #f0efeb; /* Fond clair */
    padding: 40px 20px; /* Espacement interne */
    text-align: center; /* Centre le texte */
    border-radius: 8px; /* Coins arrondis */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Ombre pour profondeur */
}

h2.section-title {
    font-size: 2.5em; /* Taille de police du titre */
    margin-bottom: 15px; /* Marges autour du titre */
    color: #333; /* Couleur du texte */
}

p {
    font-size: 1.2em; /* Taille de police du texte */
    color: #666; /* Couleur du texte */
    margin-bottom: 20px; /* Marges autour du texte */
}

button {
    background-color: #007bff; /* Couleur de fond du bouton */
    color: white; /* Couleur du texte du bouton */
    border: none; /* Pas de bordure */
    border-radius: 5px; /* Coins arrondis */
    padding: 12px 20px; /* Espacement interne */
    font-size: 1em; /* Taille de police du bouton */
    cursor: pointer; /* Curseur en main */
    transition: background-color 0.3s; /* Transition pour le survol */
}

button:hover {
    background-color: #0056b3; /* Couleur au survol */
}
.testimonials {
    background-color: #f0efeb;
    padding: 40px 20px;
    text-align: center;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

.testimonial-container {
    display: flex;
    flex-wrap: wrap;        /* Permet aux éléments de passer à la ligne si nécessaire */
    justify-content: center; /* Centre les témoignages */
    gap: 20px;              /* Espacement entre les témoignages */
    max-width: 1200px;     /* Largeur maximale */
    margin: 0 auto;
      flex-direction: row; 
}

.testimonial {
    background-color:#C1D0C4;
     border-radius: 8px;
    padding: 20px;
    box-sizing: border-box;
    width: calc(33.33% - 20px); /* Trois témoignages par ligne, ajusté pour l'espacement */
    min-width: 300px;         /* Largeur minimale pour les petits écrans */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    position: relative;
      display: flex;
       flex-direction: row; 
}

.testimonial p {
    font-size: 1.2em;
    color: #333;
    margin: 0;
      display: flex;
}

.author {
    font-style: italic;
    margin-top: 10px;
    color: #6c757d;
}

.user-icon {
    position: absolute;
    top: -20px;
    left: 20px;
    font-size: 30px;
    color: #007bff;
}


    .testimonial {
        flex: 0 0 100%;
    }
}




</style>

<section class="hero" style="
    background-image: url('@Url.Content("~/images/Bateaux4.webp")');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    color: white; /* pour que le texte soit visible sur l'image */
    padding: 40px 20px; /* un peu d'espace interne */
">   
    <h1>Trouvez le bateau parfait pour votre prochaine aventure</h1>
    <p>Explorez les plus belles destinations en mer</p> 
  <form method="get">
    <input type="text" name="Destination" placeholder="Destination" value="@Model.searchDestination" />
    <input type="date" name="StartDate" value="@(Model.searchStartDate?.ToString("yyyy-MM-dd"))" />
    <input type="date" name="EndDate" value="@(Model.searchEndDate?.ToString("yyyy-MM-dd"))" />
    <input type="number" name="NumberOfPeople" placeholder="Nombre de personnes" min="1" value="@(Model.searchNumberOfPeople ?? 0)" />
    <button type="submit">Rechercher</button>
</form>

</section>


<!-- Naviguez librement -->
<section style="display: flex; align-items: center; gap: 20px;">
  <div style="flex: 1;">
    <h2 class="section-title">Naviguez librement</h2>
    <p>Choisissez parmi des milliers de bateaux à travers l'Europe. Réservez facilement et partez à l'aventure.</p>
  </div>
  <div style="flex: 1;">
    <img src="@Url.Content("~/images/Bateaux 7.webp")" alt="Naviguez librement" style="width: 100%; max-width: 600px;" />
  </div>
</section>

<!-- Carte Google Maps -->
<section style="margin-top: 30px;">
  <h3>Localisation des bateaux</h3>
  <div id="map" style="width: 100%; height: 400px;"></div>
</section>

<script>
  function initMap() {
    const center = { lat: 48.8566, lng: 2.3522 };

    const map = new google.maps.Map(document.getElementById("map"), {
      zoom: 5,
      center: center,
    });

    const boats = [
      @foreach (var boat in Model.Boats)
      {
          if (boat.Latitude != 0 && boat.Longitude != 0)
          {
              var photo = boat.Photos?.FirstOrDefault()?.PhotoUrl ?? "";

              var portName = boat.Port?.Name ?? "Port inconnu";
              var typeName = boat.BoatType?.Name ?? "Type inconnu";

              <text>
              {
                lat: @boat.Latitude,
                lng: @boat.Longitude,
                name: "@boat.Name",
                port: "@portName",
                type: "@typeName",
                photo: "@Url.Content($"~/uploads/{photo}")"
              },
              </text>
          }
      }
    ];

    boats.forEach(boat => {
      const marker = new google.maps.Marker({
        position: { lat: boat.lat, lng: boat.lng },
        map: map,
        title: boat.name
      });

      const contentString = `
        <div style="max-width: 250px;">
          <h4>${boat.name}</h4>
          <p><strong>Port:</strong> ${boat.port}</p>
          <p><strong>Type:</strong> ${boat.type}</p>
          ${boat.photo ? `<img src="${boat.photo}" alt="Photo bateau" style="width: 100%; height: auto; border-radius: 8px;" />` : ""}
        </div>
      `;

      const infowindow = new google.maps.InfoWindow({
        content: contentString
      });

      marker.addListener("click", () => {
        infowindow.open(map, marker);
      });
    });
  }
</script>

<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAv5i7Pcfoy7KGhEo3bs_NpVhxPj9JaUJs&callback=initMap">
</script>

<!-- Types de bateaux -->
<!-- Types de bateaux -->
<style>
.boat-types img {
  width: 150px;
  height: 100px;
  object-fit: cover;
  border-radius: 5px;
}
.label {
  margin-top: 8px;
  font-weight: 600;
  font-size: 1em;
  color: #333;
}
a:hover .label {
  color: #007bff;
}
</style>

<section style="background-color: #f0efeb; padding: 20px;">
  <h2 class="section-title">Trouvez le bateau qui vous correspond</h2>
  <div class="boat-types" style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
    
    <div style="text-align: center;">
      <a href="https://example.com/listebateaux?type=Pic" style="text-decoration: none; color: inherit;">
        <img src="/images/pic-1-1.jpeg" alt="Pic" />
        <div class="label">Pic</div>
      </a>
    </div>

    <div style="text-align: center;">
      <a href="https://example.com/listebateaux?type=Moteur" style="text-decoration: none; color: inherit;">
        <img src="/images/bateaux%20moteur.jpg" alt="Bateau à moteur" />
        <div class="label">Moteur</div>
      </a>
    </div>

    <div style="text-align: center;">
      <a href="https://example.com/listebateaux?type=Catamaran" style="text-decoration: none; color: inherit;">
        <img src="/images/catamaran.webp" alt="Catamaran" />
        <div class="label">Catamaran</div>
      </a>
    </div>

    <div style="text-align: center;">
      <a href="https://example.com/listebateaux?type=Yacht" style="text-decoration: none; color: inherit;">
        <img src="/images/yatch.webp" alt="Yacht" />
        <div class="label">Yacht</div>
      </a>
    </div>

    <div style="text-align: center;">
      <a href="https://example.com/listebateaux?type=Ferry" style="text-decoration: none; color: inherit;">
        <img src="/images/ferry.jpg" alt="Ferry" />
        <div class="label">Ferry</div>
      </a>
    </div>

  </div>
</section>

<section id="mes-bateaux">
    <h2 class="section-title">Découvrez nos meilleures offres</h2>

    <div class="offers">
    @if (Model.Boats != null && Model.Boats.Any())
    {
        foreach (var boat in Model.Boats)
        {
            // Récupérer la première photo si disponible, sinon image par défaut
            var photoUrl = (boat.Photos != null && boat.Photos.Any()) 
                ? Url.Content(boat.Photos.First().PhotoUrl)  // Correction ici
                : Url.Content("~/images/default-boat.jpg");

            <div class="offer-card">
                <img src="@photoUrl" alt="Photo de @boat.Name" class="boat-image" />

                <div class="content">
                    <h3>@boat.Name</h3>
                    <p>@boat.DailyPrice € / jour</p>
                    <p>@boat.Port?.Name</p>

                    <!-- Lien vers la page des détails -->
                    <a asp-page="/BoatDetails" asp-route-id="@boat.Id" style="background-color: #AD7C59; color: white; text-decoration: none; padding: 10px 20px; border-radius: 5px;">Voir l'annonce</a>

                    <!-- Lien vers la réservation -->
                    <a asp-page="/ReserveBoat" asp-route-id="@boat.Id" class="btn" style="margin-left: 10px; background-color: white; border: 2px solid #AD7C59; color: #AD7C59; padding: 10px 20px; border-radius: 5px;">Réserver</a>

                    <!-- Section pour les administrateurs et propriétaires -->
                    @if (User.IsInRole("Admin") || User.IsInRole("Proprietaire"))
                    {
                        <a asp-page="/EditBoat" asp-route-id="@boat.Id" class="btn btn-warning">Modifier</a>
                        
                        <!-- Formulaire de suppression -->
                        <form method="post" asp-page-handler="Delete" asp-route-id="@boat.Id" style="display:inline" onsubmit="return confirm('Voulez-vous vraiment supprimer cette annonce ?');">
                            <button type="submit" class="btn btn-danger">Supprimer</button>
                        </form>
                    }
                </div>
            </div>
        }
    }
    else
    {
        <p>Aucune offre de bateau disponible pour le moment.</p>
    }
</div>


    @if (User.IsInRole("Admin") || User.IsInRole("Proprietaire"))
    {
        <div style="text-align: center; margin-top: 20px;">
          <a href="@Url.Content("~/Ajoutbat")" class="btn" style="background-color: #C1D0C4; color: #000; border: none;">
    Ajouter une annonce
</a>

        </div>
    }
</section>







<!-- Avantages -->
<section id="mes-bateaux"  class="features">
    <h2 class="section-title">Louer votre bateau en 3 étapes</h2>
    
    <div class="row mt-5 text-center">
        <div class="col-md-4">
            <div class="icon-circle anchor-icon mb-3">
                <i class="fas fa-anchor fa-3x"></i>
            </div>
            <h4>Choisir votre bateau</h4>
            <p>Parcourez notre sélection.</p>
        </div>
        <div class="col-md-4">
            <div class="icon-circle calendar-icon mb-3">
                <i class="fas fa-calendar-check fa-3x"></i>
            </div>
            <h4>Réserver en ligne</h4>
            <p>Simple et sécurisé.</p>
        </div>
        <div class="col-md-4">
            <div class="icon-circle ship-icon mb-3">
                <i class="fas fa-ship fa-3x"></i>
            </div>
            <h4>Embarquez et profitez</h4>
            <p>Profitez de votre aventure.</p>
        </div>
    </div>
</section>
<!-- Témoignages -->
<section class="testimonials">
    <h2 class="section-title">Ce que nos navigateurs disent de nous</h2>
    <p>Des expériences inoubliables en mer</p>
    <div class="testimonial-container">
        <div class="testimonial">
            <i class="fas fa-user user-icon"></i>
            <p>"Louer un voilier via SailingLoc a été une expérience incroyable. Le bateau était en excellent état, et le processus de réservation était fluide."</p>
            <div class="author">Marc L. ★★★★★</div>
        </div>
        <div class="testimonial">
            <i class="fas fa-user user-icon"></i>
            <p>"Nous avons loué un catamaran pour un week-end entre amis. L'équipe de SailingLoc nous a accompagnés à chaque étape, c'était une expérience à refaire !"</p>
            <div class="author">Sophie D. ★★★★★</div>
        </div>
        <div class="testimonial">
            <i class="fas fa-user user-icon"></i>
            <p>"C'était ma première location de bateau, j'ai vraiment facilité la tâche. Le site est intuitif, et j'ai trouvé exactement ce qu'il me fallait."</p>
            <div class="author">Julien R. ★★★★★</div>
        </div>
     
</section>

<!-- Rentabilisez -->
<section class="rent">
    <h2 class="section-title">Rentabilisez votre bateau en toute simplicité</h2>
    <p>Mettez votre bateau en location et rejoignez une communauté de passionnés.</p>
    <a href="@Url.Content("~/Ajoutbat")">
        <button>Proposer mon bateau</button>
    </a>
</section>

<!-- Rentabilisez -->
<section class="rent">
    <h2 class="section-title">Rentabilisez votre bateau en toute simplicité</h2>
    <p>Mettez votre bateau en location et rejoignez une communauté de passionnés.</p>
    <a href="@Url.Content("~/Ajoutbat")">
        <button>Proposer mon bateau</button>
    </a>
    </section>
    
<!-- Rentabilisez -->
<section class="rent">
    <h2 class="section-title">Rentabilisez votre bateau en toute simplicité</h2>
    <p>Mettez votre bateau en location et rejoignez une communauté de passionnés.</p>
    <a href="@Url.Content("~/Ajoutbat")">
        <button>Proposer mon bateau</button>
    </a>
    </section>
