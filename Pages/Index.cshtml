@page
@model SaillingLoc.Pages.IndexModel
@{
    ViewData["Title"] = "Accueil";
}

<style>
:root {
    --primary-color: #4B6A88;
    --secondary-color: #AD7C59;
    --dark-color: #2c3e50;
    --light-bg: #f8f9fa;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--dark-color);
    background-color: #fff;
    line-height: 1.6;
}

/* Hero Section - Style de l'image */
.hero-section {
    position: relative;
    background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1)), 
                url('@Url.Content("~/images/jpt.png")') no-repeat center center/cover;
    min-height: 500px;
    display: flex;
    align-items: center;
    padding: 20px;
}

.hero-content {
    max-width: 600px;
    padding: 40px;
}

.hero-content h1 {
    font-size: 2.8rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 20px;
    line-height: 1.2;
}

.hero-content p {
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 30px;
}

.btn-primary-custom {
    background-color: var(--secondary-color);
    color: white;
    border: none;
    padding: 14px 32px;
    font-size: 1rem;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-block;
}

.btn-primary-custom:hover {
    background-color: #9a6b4d;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(173, 124, 89, 0.4);
    color: white;
    text-decoration: none;
}

/* Louer maintenant/Réserver section */
.reservation-banner {
    background-color: #f5f1eb;
    padding: 15px;
    text-align: center;
    font-size: 0.95rem;
    color: var(--dark-color);
    border-bottom: 1px solid #e0dcd5;
}

.reservation-title {
    text-align: center;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--dark-color);
    margin: 40px 0 30px;
}

/* Search Form - Style de l'image */
.search-form {
    background-color: var(--primary-color);
    padding: 30px;
    border-radius: 8px;
    max-width: 1200px;
    margin: -50px auto 60px;
    position: relative;
    z-index: 10;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.search-form .row {
    align-items: end;
}

.search-form label {
    color: white;
    font-size: 0.9rem;
    margin-bottom: 5px;
    display: block;
    font-weight: 500;
}

.search-form .form-select,
.search-form .form-control {
    background-color: white;
    border: none;
    border-radius: 6px;
    padding: 12px 15px;
    font-size: 1rem;
    color: var(--dark-color);
    height: 50px;
}

.search-form .form-select {
    color: #666;
}

.btn-search {
    background-color: var(--secondary-color);
    border: none;
    color: white;
    font-weight: 600;
    border-radius: 6px;
    height: 50px;
    width: 100%;
    transition: all 0.3s ease;
    font-size: 1rem;
}

.btn-search:hover {
    background-color: #9a6b4d;
    transform: translateY(-2px);
}

/* About Section */
.about-section {
    display: flex;
    align-items: center;
    gap: 60px;
    padding: 80px 40px;
    max-width: 1200px;
    margin: 0 auto;
    background-color: white;
}

.about-content {
    flex: 1;
}

.about-label {
    color: var(--secondary-color);
    font-weight: 600;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 15px;
}

.about-section h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 25px;
    line-height: 1.2;
}

.about-section p {
    font-size: 1.05rem;
    line-height: 1.8;
    color: #555;
    margin-bottom: 15px;
}

.slider-container {
    flex: 1;
    max-width: 500px;
}

.slider-container img {
    width: 100%;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
}

/* Categories Section */
.categories-section {
    padding: 60px 40px;
    background-color: var(--light-bg);
    text-align: center;
}

.section-subtitle {
    color: var(--dark-color);
    font-weight: 600;
    font-size: 0.95rem;
    margin-bottom: 10px;
    text-align: center;
}

.section-title {
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 50px;
    text-align: center;
}

.categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.category-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.category-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.category-image {
    height: 200px;
    background-size: cover;
    background-position: center;
}

.category-content {
    padding: 20px;
}

.category-content h5 {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 10px;
}

.category-content p {
    color: #666;
    font-size: 0.95rem;
}

/* Offers Section */
.offers-section {
    padding: 60px 40px;
    background-color: white;
}

.offers-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.offer-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid #e0e0e0;
}

.offer-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.offer-card img {
    width: 100%;
    height: 220px;
    object-fit: cover;
}

.offer-content {
    padding: 20px;
}

.offer-card h3 {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 15px;
}

.offer-details {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 15px;
    font-size: 0.95rem;
    color: #666;
}

.offer-details span {
    display: flex;
    align-items: center;
    gap: 5px;
}

.offer-card .price {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--secondary-color);
    margin-bottom: 15px;
}

.price-unit {
    font-size: 0.9rem;
    font-weight: 400;
    color: #666;
}

.btn-view {
    display: inline-block;
    padding: 12px 24px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    background-color: var(--secondary-color);
    color: white;
    margin-right: 10px;
}

.btn-view:hover {
    background-color: #9a6b4d;
    color: white;
    text-decoration: none;
}

/* Process Section */
.process-section {
    padding: 80px 40px;
    background-color: var(--light-bg);
}

.process-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 50px;
    max-width: 1200px;
    margin: 50px auto 0;
}

.process-step {
    text-align: center;
    padding: 30px;
}

.step-number {
    width: 80px;
    height: 80px;
    margin: 0 auto 25px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2rem;
    font-weight: 700;
    color: white;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.step-1 { background-color: var(--primary-color); }
.step-2 { background-color: #28a745; }
.step-3 { background-color: #ffc107; }

.process-step h4 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 15px;
}

.process-step p {
    font-size: 1.05rem;
    line-height: 1.7;
    color: #555;
}

/* Testimonials */
.testimonials-section {
    padding: 80px 40px;
    background-color: white;
}

.testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 50px auto 0;
}

.testimonial {
    background: white;
    border-radius: 12px;
    padding: 35px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    border: 1px solid #e0e0e0;
    transition: all 0.3s ease;
}

.testimonial:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
}

.testimonial-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.user-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: var(--primary-color);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
}

.testimonial p {
    font-size: 1.05rem;
    line-height: 1.7;
    color: #555;
    font-style: italic;
}

.author {
    font-weight: 700;
    color: var(--dark-color);
    margin-top: 15px;
    font-style: normal;
}

.rating {
    color: #ffc107;
    margin-left: 10px;
}

/* Owner Section */
.owner-section {
    background: linear-gradient(135deg, #e8e5df 0%, #f5f1eb 100%);
    padding: 80px 40px;
    text-align: center;
}

.owner-section p:first-child {
    color: var(--secondary-color);
    font-weight: 600;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 15px;
}

.owner-section .section-title {
    margin: 0 0 20px;
}

.owner-section > p {
    max-width: 700px;
    margin: 0 auto 30px;
    font-size: 1.1rem;
    line-height: 1.8;
    color: #555;
}

/* Map Section */
.map-section {
    padding: 60px 40px;
    background-color: white;
}

.map-section h3 {
    text-align: center;
    font-size: 2rem;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 30px;
}

#map {
    width: 100%;
    max-width: 1200px;
    height: 450px;
    margin: 0 auto;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}


 .process-section {
            background-color: #c4d4cd;
        }

        .step-number {
            width: 60px;
            height: 60px;
            border: 2px dashed #c8a882;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            font-weight: 300;
            color: #c8a882;
        }

        .info-icon {
            width: 16px;
            height: 16px;
            background-color: #c8a882;
            color: white;
            border-radius: 50%;
            font-size: 0.7rem;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

</style>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="hero-content">
                    <h1>Trouvez le bateau parfait pour votre prochaine aventure</h1>
                    <p>Découvrez notre collection exceptionnelle de bateaux et vivez des moments inoubliables en mer.</p>
                    <a asp-page="/Bateaux" class="btn-primary-custom">Commencer votre aventure</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Reservation Title -->
@* <h2 class="reservation-title">Réserver une location de bateau</h2> *@

<!-- Search Form -->
<div class="container">
    <form method="get" asp-page="/Bateaux" class="search-form">
        <div class="row g-3">
            <div class="col-lg-3">
                <label for="lieuDepart">Lieu de départ</label>
                <select class="form-select" id="lieuDepart" name="LieuDepart">
                    <option value="">Sélectionner</option>
                    <option value="Monaco">Monaco</option>
                    <option value="Nice">Nice</option>
                    <option value="Cannes">Cannes</option>
                    <option value="Marseille">Marseille</option>
                    <option value="Toulon">Toulon</option>
                </select>
            </div>
            <div class="col-lg-2">
                <label for="dateDepart">Date de départ</label>
                <input type="date" id="dateDepart" name="DateDepart" class="form-control">
            </div>
            <div class="col-lg-2">
                <label for="dateFin">Date de fin</label>
                <input type="date" id="dateFin" name="DateArrivee" class="form-control">
            </div>
            <div class="col-lg-3">
                <label for="typeBateau">Type de bateau</label>
                <select class="form-select" id="typeBateau" name="TypeBateau">
                    <option value="">Sélectionner</option>
                    <option value="Voilier">Voilier</option>
                    <option value="Catamaran">Catamaran</option>
                    <option value="Yacht">Yacht</option>
                    <option value="Bateau à moteur">Bateau à moteur</option>
                </select>
            </div>
            <div class="col-lg-2">
                <button type="submit" class="btn-search">Rechercher</button>
            </div>
        </div>
    </form>
</div>

<!-- About Section -->
<section class="about-section">
    <div class="about-content">
        <p class="about-label">À propos de SailingLoc</p>
        <h2>Naviguez librement, entre passionnés</h2>
        <p>Chez SailingLoc, nous mettons en relation les amoureux de la mer pour faciliter la location de voiliers et bateaux à moteur entre particuliers.</p>
        <p>Que vous soyez marin expérimenté ou aventurier en quête de découverte, notre plateforme vous offre une expérience simple, sécurisée et conviviale. Découvrez une nouvelle façon de naviguer, avec une communauté qui partage la même passion.</p>
        <button class="btn-primary-custom" style="margin-top: 20px;">En savoir plus</button>
    </div>

    <div class="slider-container">
        <div id="slider">
            <img src="@Url.Content("~/images/Bateaux 7.webp")" alt="Image Slider" />
        </div>
    </div>
</section>

<script>
    const images = [
        '@Url.Content("~/images/Bateaux 7.webp")',
        '@Url.Content("~/images/yatch.webp")',
        '@Url.Content("~/images/pic-1-1.jpeg")'
    ];

    const slider = document.getElementById('slider')?.querySelector('img');
    if (slider) {
        let index = 0;
        setInterval(() => {
            index = (index + 1) % images.length;
            slider.src = images[index];
        }, 4000);
    }
</script>

<!-- Categories Section -->
<section class="categories-section">
    <div class="container">
        <p class="section-subtitle">Catégories de bateaux</p>
        <h2 class="section-title">Trouvez le bateau qui correspond à votre besoin</h2>
        
        <div class="categories-grid">
            <div class="category-card">
                <div class="category-image" style="background-image: url('@Url.Content("~/images/pic-1-1.jpeg")');"></div>
                <div class="category-content">
                    <h5>Voiliers</h5>
                    <p>Pour les amateurs de navigation traditionnelle</p>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-image" style="background-image: url('@Url.Content("~/images/bateaux moteur.jpg")');"></div>
                <div class="category-content">
                    <h5>Bateaux à moteurs</h5>
                    <p>Vitesse et confort pour vos escapades</p>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-image" style="background-image: url('@Url.Content("~/images/catamaran.webp")');"></div>
                <div class="category-content">
                    <h5>Catamarans</h5>
                    <p>Stabilité et espace pour toute la famille</p>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-image" style="background-image: url('@Url.Content("~/images/yatch.webp")');"></div>
                <div class="category-content">
                    <h5>Bateau Fluvial</h5>
                    <p>Luxe et prestations haut de gamme</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Offers Section -->
<section class="offers-section">
    <div class="container">
        <p class="section-subtitle">Nos bateaux les plus prisés</p>
        <h2 class="section-title">Sélection des modèles les plus loués et appréciés</h2>
        
        <div class="offers-grid">
            @if (Model.Boats != null && Model.Boats.Any())
            {
                foreach (var boat in Model.Boats)
                {
                    var photoUrl = (boat.Photo != null) 
                        ? Url.Content(boat.Photo)
                        : Url.Content("~/images/default-boat.jpg");

                    <div class="offer-card">
                        <img src="@photoUrl" alt="Photo de @boat.Name" />
                        
                        <div class="offer-content">
                            <h3>@boat.Name</h3>
                            
                            <div class="offer-details">
                                <span>📏 @(boat.Length)m</span>
                                <span>👥 @(boat.Capacity ?? 12) passagers</span>
                            </div>
                            
                            <p class="price">@boat.DailyPrice€ <span class="price-unit">/jour</span></p>
                            
                            <div>
                                <a asp-page="/BoatDetails" asp-route-id="@boat.Id" class="btn-view">Voir ce bateau</a>
                            </div>

                            @if (Model.IsAdmin || (Model.IsProprietaire && boat.OwnerId == Model.CurrentUserId))
                            {
                                <div style="margin-top: 15px;">
                                    <a asp-page="/EditBoat" asp-route-id="@boat.Id" class="btn-view" style="background-color:  #AD7C59;">Modifier</a>
                                    <form method="post" asp-page-handler="Delete" asp-route-id="@boat.Id" style="display:inline" onsubmit="return confirm('Voulez-vous vraiment supprimer cette annonce ?');">
                                        <button type="submit" class="btn-view" style="background-color:  #AD7C59;">Supprimer</button>
                                    </form>
                                </div>
                            }
                        </div>
                    </div>
                }
            }
            else
            {
                <p style="grid-column: 1 / -1; text-align: center; color: #666;">Aucune offre de bateau disponible pour le moment.</p>
            }
        </div>

        @if (User.IsInRole("Admin") || User.IsInRole("Proprietaire"))
        {
            <div style="text-align: center; margin: 40px 0;">
                <a href="@Url.Content("~/Ajoutbat")" class="btn-primary-custom">
                    Ajouter une annonce
                </a>
            </div>
        }
    </div>
</section>

<!-- Process Section -->
<section class="process-section py-5">
        <div class="container">
            <p class="text-center mb-1" style="color: #2c3e37; font-size: 0.95rem;">Louer votre bateau en 3 étapes</p>
            <h2 class="text-center mb-5" style="color: #1a1a1a; font-size: 1rem; font-weight: 600;">Simple, rapide et sécurisé</h2>
            
            <div class="row justify-content-center mb-5">
                <div class="col-4 text-center">
                    <div class="step-number mx-auto mb-3">1</div>
                    <h4 class="fw-semibold mb-2" style="font-size: 1rem; color: #1a1a1a;">Choisir votre bateau</h4>
                    <p style="font-size: 0.88rem; color: #2c3e37; line-height: 1.5;">Parcourez notre sélection et trouvez le bateau idéal selon vos besoins : voilier, catamaran, bateau à moteur…</p>
                </div>
                
                <div class="col-4 text-center">
                    <div class="step-number mx-auto mb-3">2</div>
                    <h4 class="fw-semibold mb-2" style="font-size: 1rem; color: #1a1a1a;">Réservez en ligne</h4>
                    <p style="font-size: 0.88rem; color: #2c3e37; line-height: 1.5;">Sélectionnez vos dates, ajoutez les options souhaitées et effectuez votre paiement en toute sécurité.</p>
                </div>
                
                <div class="col-4 text-center">
                    <div class="step-number mx-auto mb-3">3</div>
                    <h4 class="fw-semibold mb-2" style="font-size: 1rem; color: #1a1a1a;">Embarquer et profiter</h4>
                    <p style="font-size: 0.88rem; color: #2c3e37; line-height: 1.5;">Rendez-vous au port, récupérez votre bateau et vivez une expérience inoubliable sur l'eau !</p>
                </div>
            </div>
            
            <div class="row">
                <div class="col-12 text-center">
                    <p class="d-flex align-items-center justify-content-center gap-2 mb-0" style="font-size: 0.88rem; color: #2c3e37;">
                        <span class="info-icon">i</span>
                        <span>Si vous n'avez jamais loué un bateau auparavant, nous vous guiderons à chaque étapes du processus.</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

<!-- Testimonials Section -->
<section class="testimonials-section">
    <div class="container">
        <p class="section-subtitle">Ce que nos navigateurs disent de nous</p>
        <h2 class="section-title">Des expériences inoubliables en mer</h2>
        
        <div class="testimonials-grid">
            <div class="testimonial">
                <div class="testimonial-header">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <div class="author">Marc L.</div>
                        <span class="rating">★★★★★</span>
                    </div>
                </div>
                <p>"Louer un voilier via SailingLoc a été une expérience incroyable. Le bateau était en excellent état, et le processus de réservation était fluide. Nous avons passé une semaine magique à explorer la côte méditerranéenne. Je recommande vivement !"</p>
            </div>
            
            <div class="testimonial">
                <div class="testimonial-header">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <div class="author">Sophie D.</div>
                        <span class="rating">★★★★★</span>
                    </div>
                </div>
                <p>"Nous avons loué un catamaran pour un week-end entre amis, et tout était parfait ! L'équipe de SailingLoc nous a accompagnés à chaque étape, et le bateau était spacieux et confortable. Une expérience à refaire !"</p>
            </div>
            
            <div class="testimonial">
                <div class="testimonial-header">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <div class="author">Julien R.</div>
                        <span class="rating">★★★★★</span>
                    </div>
                </div>
                <p>"C'était ma première location de bateau, et SailingLoc m'a vraiment facilité la tâche. Le site est intuitif, et j'ai trouvé exactement ce que je cherchais en quelques clics. Le bateau était conforme à la description, et la prise en main s'est faite sans souci."</p>
            </div>
        </div>
    </div>
</section>

<!-- Owner Section -->
<section class="owner-section">
    <div class="container">
        <p>Devenez propriétaire sur SailingLoc</p>
        <h2 class="section-title">Rentabilisez votre bateau en toute simplicité</h2>
        <p>Mettez votre bateau en location et rejoignez une communauté de passionnés. SailingLoc vous permet de gérer vos disponibilités, sécuriser vos transactions et maximiser vos revenus en toute sérénité.</p>
        <a href="@Url.Content("~/Ajoutbat")">
            <button class="btn-primary-custom">Enregistrer votre bateau</button>
        </a>
    </div>
</section>

